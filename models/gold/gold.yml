version : 2

models:
  - name: walmart_store_dim
    description: "DBT model store dimension table"
    columns:
      - name: store_dept_id
        description: "composite Store dept Indentification"
        tests:
          - not_null
          - unique
      - name: store_id
        description: "Store Indentification"
        tests:
          - not_null
      - name: dept_id
        description: "Store Indentification"
        tests:
          - not_null
      - name: store_type
        description: "Store Type"
        tests:
          - not_null
      - name: store_size
        description: "Store Size"
        tests:
          - not_null
  - name: walmart_date_dim
    description: "DBT model date dimension table"
    columns:
      - name: Date_Id
        description: "Date Unique Indentification"
        tests:
          - not_null
      - name: Date
        description: "Date"
        tests:
          - not_null
      - name: IsHoliday
        description: "Is Holiday or Not "
        tests:
          - not_null
          - accepted_values:
              values: ['false','true']
              config:
                severity: warn
  - name: walmart_fact_table
    description: "DBT model date dimension table"
    columns:
        - name: store_dept_id
          description: "Store Dept Indentification"
          tests:
            - not_null
            
        - name: store_id
          description: "Store Indentification"
          tests:
            - not_null

        - name: dept_id
          description: "Store Indentification"
          tests:
            - not_null
        

sources:
  - name: walmart_store_dim
    database: WALMART_BI_DB
    schema: SILVER
    tables:
      - name: TRANSFORMED_STORE_DIM
  - name: walmart_date_dim
    database: WALMART_BI_DB
    schema: SILVER
    tables:
      - name: TRANSFORMED_DATE_DIM
  - name: walmart_fact_table
    database: WALMART_BI_DB
    schema: SILVER
    tables:
      - name: TRANSFORMED_FACT_TABLE